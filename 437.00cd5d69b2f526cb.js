"use strict";(self.webpackChunkconnection=self.webpackChunkconnection||[]).push([[437],{3437:(T,d,c)=>{c.r(d),c.d(d,{GroupsComponent:()=>y});var a=c(6814),g=c(2072),p=c(2296),l=c(5940),t=c(9212),_=c(3096);function m(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" (timeout: ",t.lcZ(2,1,n.timer$),")")}}function u(e,r){1&e&&t._UZ(0,"mat-spinner",7)}function f(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.deleteGroup(i.id))}),t._uU(1," Delete "),t.qZA()}}const b=e=>["group",e];function C(e,r){if(1&e&&(t.TgZ(0,"li",10)(1,"a",11),t._uU(2),t.qZA(),t.YNc(3,f,2,0,"button",12),t.ALo(4,"async"),t.qZA()),2&e){const n=r.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(5,b,n.id)),t.xp6(1),t.Oqu(n.name),t.xp6(1),t.Q6J("ngIf",n.createdBy===t.lcZ(4,3,o.userId$))}}function h(e,r){if(1&e&&(t.TgZ(0,"ul",8),t.YNc(1,C,5,7,"li",9),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,n.groups$))}}let O=(()=>{class e{constructor(n){this.groupsListService=n,this.groups$=this.groupsListService.groups$,this.userId$=this.groupsListService.userId$,this.timer$=this.groupsListService.timer$,this.loading$=this.groupsListService.loading$}ngOnInit(){this.groupsListService.initGroupsList()}updateGroups(){this.groupsListService.getGroupsList(),this.groupsListService.setTimer()}openDialog(){this.groupsListService.openCreateGroupDialog()}deleteGroup(n){this.groupsListService.deleteGroup(n)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_.n))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-groups-list"]],standalone:!0,features:[t.jDz],decls:15,vars:10,consts:[[1,"container"],[1,"btns-wrapper"],[1,"btn",3,"disabled","click"],[4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],["class","spinner",4,"ngIf","ngIfElse"],["content",""],[1,"spinner"],[1,"groups"],["class","groups__item",4,"ngFor","ngForOf"],[1,"groups__item"],[3,"routerLink"],["mat-flat-button","","color","secondary","class","groups__delete-btn",3,"click",4,"ngIf"],["mat-flat-button","","color","secondary",1,"groups__delete-btn",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2,"Groups"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return i.updateGroups()}),t.ALo(5,"async"),t._uU(6," Update"),t.YNc(7,m,3,3,"span",3),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return i.openDialog()}),t._uU(10,"New Group"),t.qZA()(),t.YNc(11,u,1,0,"mat-spinner",5),t.ALo(12,"async"),t.YNc(13,h,3,3,"ng-template",null,6,t.W1O),t.qZA()),2&o){const s=t.MAs(14);t.xp6(4),t.Q6J("disabled",t.lcZ(5,4,i.timer$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(8,6,i.timer$)),t.xp6(4),t.Q6J("ngIf",t.lcZ(12,8,i.loading$))("ngIfElse",s)}},dependencies:[a.ez,a.sg,a.O5,a.Ov,g.Bz,g.rH,p.ot,p.lW,l.Cq,l.Ou],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#e3f2fd;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]{background-color:#283593;color:#e3f2fd}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#3f51b5}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited:hover{opacity:.8}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:visited:active{opacity:.6}.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#e89126}.error-snackbar[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;color:#3f51b5;background-color:#e3f2fd;border-bottom:3px solid #ff0000}.success-snackbar[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;color:#3f51b5;background-color:#e3f2fd;border-bottom:3px solid #00ff00}button[_ngcontent-%COMP%]:disabled{color:#757575}.btn[_ngcontent-%COMP%]{height:36px;padding:0 1rem;align-self:flex-start;color:#fafafa;background-color:#424242;border-radius:4px;border:none;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{opacity:.9}.btn[_ngcontent-%COMP%]:disabled{background-color:#b8b1b1;opacity:1;cursor:not-allowed}.input[_ngcontent-%COMP%]{width:100%;padding:0 .5rem;background-color:transparent;border:1px solid #3f51b5;border-radius:4px}.messages[_ngcontent-%COMP%]{max-height:50vh;display:flex;flex-direction:column;gap:.25rem;padding:.5rem;border:1px solid #283593;border-radius:4px;list-style:none;overflow:auto}.messages__item[_ngcontent-%COMP%]{margin-right:2rem;padding:.5rem;width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;gap:.25rem;border:1px solid #3f51b5;border-radius:4px;background-color:#9cd1f8}.user-messages[_ngcontent-%COMP%]{margin-right:0;margin-left:2rem;align-self:flex-end}.spinner[_ngcontent-%COMP%]{margin-top:1rem;align-self:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.groups[_ngcontent-%COMP%]{max-height:70vh;padding:.5rem 1rem;border:1px solid #283593;border-radius:4px;overflow:auto}.groups__item[_ngcontent-%COMP%]{position:relative;padding:.5rem 0;border-bottom:1px solid #3f51b5}.groups__item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.groups__item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f2c082}.groups__delete-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.dark-theme[_nghost-%COMP%]   a[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   a[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   a[_ngcontent-%COMP%]:visited, .dark-theme   [_nghost-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#e89126}.dark-theme[_nghost-%COMP%]   .groups[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .groups[_ngcontent-%COMP%]{border:1px solid #e89126}"]})}return e})();var P=c(8168);function M(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" (timeout: ",t.lcZ(2,1,n.timer$),")")}}function x(e,r){1&e&&t._UZ(0,"mat-spinner",5)}function v(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"li")(1,"button",8),t.NdJ("click",function(){const s=t.CHM(n).$implicit,Z=t.oxw(2);return t.KtG(Z.goToConversation(s))}),t._uU(2),t.qZA()()}if(2&e){const n=r.$implicit;t.xp6(1),t.ekj("existing-conversation",n.conversationId),t.xp6(1),t.hij(" ",n.name," ")}}function k(e,r){if(1&e&&(t.TgZ(0,"ul",6),t.YNc(1,v,3,3,"li",7),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,n.peoples$))}}let L=(()=>{class e{constructor(n){this.peopleListService=n,this.peoples$=this.peopleListService.peoples$,this.timer$=this.peopleListService.timer$,this.loading$=this.peopleListService.loading$}ngOnInit(){this.peopleListService.initPeoplesList()}updatePeoples(){this.peopleListService.getPeoplesList(),this.peopleListService.setTimer()}goToConversation(n){this.peopleListService.goToConversation(n)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(P.B))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-people-list"]],standalone:!0,features:[t.jDz],decls:12,vars:10,consts:[[1,"container"],[1,"btn",3,"disabled","click"],[4,"ngIf"],["class","spinner",4,"ngIf","ngIfElse"],["content",""],[1,"spinner"],[1,"peoples"],[4,"ngFor","ngForOf"],["mat-flat-button","",1,"peoples__item",3,"click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"section",0)(1,"h2"),t._uU(2,"Peoples"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return i.updatePeoples()}),t.ALo(4,"async"),t._uU(5," Update"),t.YNc(6,M,3,3,"span",2),t.ALo(7,"async"),t.qZA(),t.YNc(8,x,1,0,"mat-spinner",3),t.ALo(9,"async"),t.YNc(10,k,3,3,"ng-template",null,4,t.W1O),t.qZA()),2&o){const s=t.MAs(11);t.xp6(3),t.Q6J("disabled",t.lcZ(4,4,i.timer$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(7,6,i.timer$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,8,i.loading$))("ngIfElse",s)}},dependencies:[a.ez,a.sg,a.O5,a.Ov,g.Bz,p.ot,p.lW,l.Cq,l.Ou],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#e3f2fd;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]{background-color:#283593;color:#e3f2fd}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#3f51b5}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited:hover{opacity:.8}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:visited:active{opacity:.6}.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#e89126}.error-snackbar[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;color:#3f51b5;background-color:#e3f2fd;border-bottom:3px solid #ff0000}.success-snackbar[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;color:#3f51b5;background-color:#e3f2fd;border-bottom:3px solid #00ff00}button[_ngcontent-%COMP%]:disabled{color:#757575}.btn[_ngcontent-%COMP%]{height:36px;padding:0 1rem;align-self:flex-start;color:#fafafa;background-color:#424242;border-radius:4px;border:none;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{opacity:.9}.btn[_ngcontent-%COMP%]:disabled{background-color:#b8b1b1;opacity:1;cursor:not-allowed}.input[_ngcontent-%COMP%]{width:100%;padding:0 .5rem;background-color:transparent;border:1px solid #3f51b5;border-radius:4px}.messages[_ngcontent-%COMP%]{max-height:50vh;display:flex;flex-direction:column;gap:.25rem;padding:.5rem;border:1px solid #283593;border-radius:4px;list-style:none;overflow:auto}.messages__item[_ngcontent-%COMP%]{margin-right:2rem;padding:.5rem;width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;gap:.25rem;border:1px solid #3f51b5;border-radius:4px;background-color:#9cd1f8}.user-messages[_ngcontent-%COMP%]{margin-right:0;margin-left:2rem;align-self:flex-end}.spinner[_ngcontent-%COMP%]{margin-top:1rem;align-self:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.peoples[_ngcontent-%COMP%]{max-height:70vh;padding:.5rem 1rem;border:1px solid #283593;border-radius:4px;overflow:auto}.peoples__item[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem}.peoples__item[_ngcontent-%COMP%]:not(.existing-conversation){background-color:#9cd1f8}.peoples__item.existing-conversation[_ngcontent-%COMP%]{background-color:#3f51b5}.dark-theme[_nghost-%COMP%]   .peoples[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .peoples[_ngcontent-%COMP%]{border:1px solid #e89126}.dark-theme[_nghost-%COMP%]   .peoples__item[_ngcontent-%COMP%]:not(.existing-conversation), .dark-theme   [_nghost-%COMP%]   .peoples__item[_ngcontent-%COMP%]:not(.existing-conversation){background-color:#3d4eca}.dark-theme[_nghost-%COMP%]   .peoples__item.existing-conversation[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .peoples__item.existing-conversation[_ngcontent-%COMP%]{background-color:#c67715}"]})}return e})(),y=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-groups"]],standalone:!0,features:[t.jDz],decls:2,vars:0,template:function(o,i){1&o&&t._UZ(0,"app-groups-list")(1,"app-people-list")},dependencies:[a.ez,O,L],styles:["[_nghost-%COMP%]{max-width:800px;padding:1rem;margin:0 auto;display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}"]})}return e})()}}]);